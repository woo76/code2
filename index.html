<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ëœë¤ ë¡¤ ì±”í”¼ì–¸ ë½‘ê¸°</title>
  <style>
    :root {
      color-scheme: light dark;
      font-family: "Pretendard", "Noto Sans KR", system-ui, -apple-system, sans-serif;
      --bg-grad: radial-gradient(circle at top, #1f2d53 0%, #101827 55%, #0b1020 100%);
      --card-bg: rgba(10, 17, 34, 0.86);
      --card-border: rgba(255, 255, 255, 0.14);
      --text: #f9fafb;
      --muted: #d1d5db;
      --hint: #9ca3af;
      --button-grad: linear-gradient(135deg, #2563eb, #9333ea);
      --button-shadow: rgba(37, 99, 235, 0.35);
      --result: #facc15;
      --portrait-border: rgba(250, 204, 21, 0.65);
      --card-shadow: 0 20px 45px rgba(0, 0, 0, 0.4);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: var(--bg-grad);
      color: var(--text);
      padding: 1rem;
    }

    body[data-theme="light"] {
      color-scheme: light;
      --bg-grad: radial-gradient(circle at top, #fef3c7 0%, #f8fafc 55%, #e2e8f0 100%);
      --card-bg: rgba(255, 255, 255, 0.9);
      --card-border: rgba(148, 163, 184, 0.35);
      --text: #0f172a;
      --muted: #475569;
      --hint: #64748b;
      --button-grad: linear-gradient(135deg, #0ea5e9, #22c55e);
      --button-shadow: rgba(14, 165, 233, 0.25);
      --result: #b45309;
      --portrait-border: rgba(180, 83, 9, 0.45);
      --card-shadow: 0 18px 40px rgba(15, 23, 42, 0.15);
    }

    body[data-theme="dark"] {
      color-scheme: dark;
    }

    .card {
      width: min(94vw, 520px);
      padding: 2rem;
      border-radius: 1rem;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      text-align: center;
      box-shadow: var(--card-shadow);
      backdrop-filter: blur(5px);
    }

    .toolbar {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    h1 { margin: 0; font-size: clamp(1.35rem, 4vw, 2rem); }
    p { margin: 0.2rem 0; color: var(--muted); }

    button {
      margin-top: 1.2rem;
      border: 0;
      border-radius: 999px;
      padding: 0.75rem 1.4rem;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      background: var(--button-grad);
      color: white;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
      box-shadow: 0 8px 20px var(--button-shadow);
    }

    button:hover { transform: translateY(-1px); box-shadow: 0 10px 24px rgba(147, 51, 234, 0.4); }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 10;
      margin-top: 0;
      padding: 0.45rem 0.95rem;
      font-size: 0.85rem;
      font-weight: 600;
      background: transparent;
      color: var(--text);
      border: 1px solid var(--card-border);
      box-shadow: none;
    }

    .theme-toggle:hover {
      transform: translateY(-1px);
      box-shadow: none;
      background: rgba(148, 163, 184, 0.2);
    }

    .result {
      margin-top: 1.2rem;
      font-size: clamp(1.5rem, 6vw, 2.1rem);
      font-weight: 800;
      color: var(--result);
      min-height: 2.2rem;
    }

    .portrait {
      margin: 1rem auto 0;
      width: 160px;
      aspect-ratio: 1 / 1;
      object-fit: cover;
      border-radius: 0.75rem;
      border: 2px solid var(--portrait-border);
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.45);
      display: none;
    }

    .hint { margin-top: 0.8rem; font-size: 0.86rem; color: var(--hint); }

    .divider {
      height: 1px;
      margin: 1.6rem 0 1.2rem;
      background: linear-gradient(90deg, transparent, var(--card-border), transparent);
    }

    .form-title {
      margin: 0 0 0.4rem;
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text);
    }

    .form-desc {
      margin: 0 0 1rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    form {
      display: grid;
      gap: 0.7rem;
      text-align: left;
    }

    label {
      font-size: 0.85rem;
      color: var(--muted);
    }

    input,
    textarea {
      width: 100%;
      border-radius: 0.75rem;
      border: 1px solid var(--card-border);
      padding: 0.7rem 0.9rem;
      background: rgba(15, 23, 42, 0.2);
      color: var(--text);
      font-size: 0.95rem;
    }

    body[data-theme="light"] input,
    body[data-theme="light"] textarea {
      background: rgba(255, 255, 255, 0.9);
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    .form-actions {
      display: flex;
      gap: 0.6rem;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .submit-button {
      margin-top: 0;
      padding: 0.7rem 1.4rem;
    }

    .form-note {
      font-size: 0.8rem;
      color: var(--hint);
    }

    @media (max-width: 520px) {
      .toolbar {
        flex-direction: column;
      }

      .theme-toggle {
        top: 0.75rem;
        right: 0.75rem;
      }

      .form-actions {
        flex-direction: column;
        align-items: stretch;
      }
    }
  </style>
</head>
<body>
  <button id="themeToggle" class="theme-toggle" type="button" aria-label="í…Œë§ˆ ë³€ê²½">ë‹¤í¬ ëª¨ë“œ</button>
  <main class="card">
    <div class="toolbar">
      <h1>ğŸ² ëœë¤ ë¡¤ ì±”í”¼ì–¸ ë½‘ê¸°</h1>
    </div>
    <p>ë²„íŠ¼ì„ ëˆŒëŸ¬ ì˜¤ëŠ˜ì˜ ì±”í”¼ì–¸ì„ ì •í•´ë³´ì„¸ìš”!</p>
    <button id="pickButton" type="button">ì±”í”¼ì–¸ ë½‘ê¸°</button>
    <div id="result" class="result">ì•„ì§ ì„ íƒë˜ì§€ ì•Šì•˜ì–´ìš”</div>
    <img id="portrait" class="portrait" alt="ì±”í”¼ì–¸ ì´ˆìƒí™”" />
    <p class="hint">â€» ì±”í”¼ì–¸ ì½˜ì…‰íŠ¸ë³„ ê³ ìœ  ì‚¬ìš´ë“œê°€ ì¬ìƒë©ë‹ˆë‹¤.</p>

    <div class="divider" role="presentation"></div>
    <h2 class="form-title">ì œíœ´ ë¬¸ì˜</h2>
    <p class="form-desc">ê°„ë‹¨í•œ ì •ë³´ì™€ ë¬¸ì˜ ë‚´ìš©ì„ ë‚¨ê²¨ì£¼ì‹œë©´ ë¹ ë¥´ê²Œ ì—°ë½ë“œë¦´ê²Œìš”.</p>
    <form action="https://formspree.io/f/xdalpqoj" method="POST">
      <label for="name">ì´ë¦„</label>
      <input id="name" name="name" type="text" autocomplete="name" required />

      <label for="email">ì´ë©”ì¼</label>
      <input id="email" name="email" type="email" autocomplete="email" required />

      <label for="message">ë¬¸ì˜ ë‚´ìš©</label>
      <textarea id="message" name="message" required></textarea>

      <div class="form-actions">
        <button class="submit-button" type="submit">ì œíœ´ ë¬¸ì˜ ë³´ë‚´ê¸°</button>
        <span class="form-note">â€» 1-2ì˜ì—…ì¼ ë‚´ íšŒì‹ ë“œë¦½ë‹ˆë‹¤.</span>
      </div>
    </form>
  </main>

  <script>
    const ddragonVersion = "14.24.1";

    const champions = [
      { name: "ì•„ë¦¬", id: "Ahri", sound: { wave: "sine", notes: [0, 4, 7, 11], root: 294, step: 0.11, brightness: 1900 } },
      { name: "ì•¼ìŠ¤ì˜¤", id: "Yasuo", sound: { wave: "sawtooth", notes: [0, 7, 10, 14], root: 164, step: 0.08, brightness: 1200 } },
      { name: "ë¦¬ ì‹ ", id: "LeeSin", sound: { wave: "triangle", notes: [0, 3, 5, 10], root: 185, step: 0.09, brightness: 1500 } },
      { name: "ëŸ­ìŠ¤", id: "Lux", sound: { wave: "sine", notes: [0, 4, 9, 12], root: 330, step: 0.12, brightness: 2500 } },
      { name: "ê°€ë Œ", id: "Garen", sound: { wave: "square", notes: [0, 2, 5, 7], root: 147, step: 0.1, brightness: 1000 } },
      { name: "ì§•í¬ìŠ¤", id: "Jinx", sound: { wave: "square", notes: [0, 6, 10, 13], root: 247, step: 0.07, brightness: 2100 } },
      { name: "ì•„ì¹¼ë¦¬", id: "Akali", sound: { wave: "triangle", notes: [0, 1, 5, 8], root: 208, step: 0.085, brightness: 1350 } },
      { name: "ì´ì¦ˆë¦¬ì–¼", id: "Ezreal", sound: { wave: "sine", notes: [0, 4, 7, 12], root: 262, step: 0.1, brightness: 2200 } },
      { name: "ì•„íŠ¸ë¡ìŠ¤", id: "Aatrox", sound: { wave: "sawtooth", notes: [0, 3, 6, 8], root: 110, step: 0.11, brightness: 900 } },
      { name: "í‹°ëª¨", id: "Teemo", sound: { wave: "triangle", notes: [0, 7, 12, 16], root: 392, step: 0.075, brightness: 2600 } },
      { name: "ì¼€ì´í‹€ë¦°", id: "Caitlyn", sound: { wave: "sine", notes: [0, 2, 7, 12], root: 233, step: 0.1, brightness: 1700 } },
      { name: "ì¹´ì´ì‚¬", id: "Kaisa", sound: { wave: "sawtooth", notes: [0, 5, 8, 13], root: 220, step: 0.085, brightness: 1400 } },
      { name: "í”¼ì˜¤ë¼", id: "Fiora", sound: { wave: "triangle", notes: [0, 4, 8, 12], root: 196, step: 0.09, brightness: 1600 } },
      { name: "ë² ì¸", id: "Vayne", sound: { wave: "square", notes: [0, 3, 8, 10], root: 174, step: 0.085, brightness: 1050 } },
      { name: "ë ˆì˜¤ë‚˜", id: "Leona", sound: { wave: "sine", notes: [0, 4, 7, 12], root: 277, step: 0.1, brightness: 2400 } },
      { name: "ì˜¤ë¦¬ì•„ë‚˜", id: "Orianna", sound: { wave: "triangle", notes: [0, 2, 6, 9], root: 247, step: 0.095, brightness: 1800 } },
      { name: "ë¸”ë¦¬ì¸ í¬ë­í¬", id: "Blitzcrank", sound: { wave: "square", notes: [0, 5, 10, 12], root: 131, step: 0.08, brightness: 1300 } },
      { name: "ì‚¬ì¼ëŸ¬ìŠ¤", id: "Sylas", sound: { wave: "sawtooth", notes: [0, 1, 6, 11], root: 156, step: 0.09, brightness: 1150 } },
      { name: "ì œë“œ", id: "Zed", sound: { wave: "triangle", notes: [0, 3, 7, 9], root: 185, step: 0.075, brightness: 1250 } },
      { name: "ì„¸íŠ¸", id: "Sett", sound: { wave: "square", notes: [0, 2, 4, 7], root: 123, step: 0.1, brightness: 950 } }
    ];

    const button = document.getElementById("pickButton");
    const result = document.getElementById("result");
    const portrait = document.getElementById("portrait");
    const themeToggle = document.getElementById("themeToggle");

    let audioContext;

    function getPortraitUrl(championId) {
      return `https://ddragon.leagueoflegends.com/cdn/${ddragonVersion}/img/champion/${championId}.png`;
    }

    function toFrequency(root, semitoneOffset) {
      return root * Math.pow(2, semitoneOffset / 12);
    }

    function playChampionSound(profile) {
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
      }

      const now = audioContext.currentTime + 0.02;
      const filter = audioContext.createBiquadFilter();
      filter.type = "lowpass";
      filter.frequency.value = profile.brightness;
      filter.Q.value = 1.4;
      filter.connect(audioContext.destination);

      profile.notes.forEach((semitone, i) => {
        const start = now + i * profile.step;
        const end = start + profile.step * 0.92;

        const oscMain = audioContext.createOscillator();
        const oscLayer = audioContext.createOscillator();
        const gain = audioContext.createGain();

        const freq = toFrequency(profile.root, semitone);
        oscMain.type = profile.wave;
        oscMain.frequency.value = freq;
        oscLayer.type = "sine";
        oscLayer.frequency.value = freq * 2;

        gain.gain.setValueAtTime(0.0001, start);
        gain.gain.exponentialRampToValueAtTime(0.19, start + 0.02);
        gain.gain.exponentialRampToValueAtTime(0.0001, end);

        oscMain.connect(gain);
        oscLayer.connect(gain);
        gain.connect(filter);

        oscMain.start(start);
        oscLayer.start(start);
        oscMain.stop(end);
        oscLayer.stop(end);
      });
    }

    function applyTheme(theme) {
      document.body.dataset.theme = theme;
      themeToggle.textContent = theme === "dark" ? "í™”ì´íŠ¸ ëª¨ë“œ" : "ë‹¤í¬ ëª¨ë“œ";
    }

    const storedTheme = localStorage.getItem("theme");
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    applyTheme(storedTheme || (prefersDark ? "dark" : "light"));

    themeToggle.addEventListener("click", () => {
      const nextTheme = document.body.dataset.theme === "dark" ? "light" : "dark";
      localStorage.setItem("theme", nextTheme);
      applyTheme(nextTheme);
    });

    button.addEventListener("click", () => {
      const selectedChampion = champions[Math.floor(Math.random() * champions.length)];

      result.textContent = selectedChampion.name;
      portrait.src = getPortraitUrl(selectedChampion.id);
      portrait.alt = `${selectedChampion.name} ì´ˆìƒí™”`;
      portrait.style.display = "block";

      playChampionSound(selectedChampion.sound);
    });
  </script>
</body>
</html>
